(self.webpackChunkapp=self.webpackChunkapp||[]).push([[847],{847:(t,s,e)=>{"use strict";e.r(s),e.d(s,{PlanetsModule:()=>X});var i={};e.r(i),e.d(i,{flyModeOff:()=>c,switchFlyMode:()=>h,vrSessionEnd:()=>l,vrSessionStart:()=>p});var a=e(8583),n=e(8873),o=e(9812),r=e(7747),d=e(5466);const h=(0,d.PH)("[Planets] switch fly mode"),c=(0,d.PH)("[Planets] set fly mode off"),p=(0,d.PH)("[Planets] VR session start"),l=(0,d.PH)("[Planets] VR session end");(0,d.G0)(i);var m=e(7716),u=e(4930),w=e(8120),f=e(3607),y=e(949),g=e(270),x=e(7758),S=e(6941),v=e(3115),j=e(9864);class _{constructor(){this.loader=(new x.dpR).setPath("assets/threejs/textures/space/mercury/"),this.geometry=new x.xo$(S.y8.Mercury,64,32),this.material=new x.xoR({wireframe:!1,shininess:0}),this.mesh=new x.Kj0(this.geometry,this.material),(0,v.h)(this.mesh,S.ZB.Mercury)}loadTexturesByDefinition(t){this.material.map=this.loader.load((0,j.R)(t,{sd:"mercury_map_1024x512.jpg",hd:"mercury_map_2048x1024.jpg"}))}update(t){(0,v.r)(this.mesh,t,5)}}class b{constructor(){this.loader=(new x.dpR).setPath("assets/threejs/textures/space/venus/"),this.geometry=new x.xo$(S.y8.Venus,64,32),this.material=new x.xoR({wireframe:!1,shininess:0}),this.mesh=new x.Kj0(this.geometry,this.material),(0,v.h)(this.mesh,S.ZB.Venus)}loadTexturesByDefinition(t){this.material.map=this.loader.load((0,j.R)(t,{sd:"venus_map_1024x512.jpg",hd:"venus_map_2048x1024.jpg"}))}update(t){(0,v.r)(this.mesh,t,5)}}var R=e(3841),$=e(9088);class M{constructor(){this.loader=(new x.dpR).setPath("assets/threejs/textures/space/mars/"),this.geometry=new x.xo$(S.y8.Mars,64,32),this.material=new x.xoR({wireframe:!1,shininess:0}),this.mesh=new x.Kj0(this.geometry,this.material),(0,v.h)(this.mesh,S.ZB.Mars)}loadTexturesByDefinition(t){this.material.map=this.loader.load((0,j.R)(t,{sd:"mars_map_1024x512.jpg",hd:"mars_map_2048x1024.jpg"}))}update(t){(0,v.r)(this.mesh,t,5)}}class A{constructor(){this.loader=(new x.dpR).setPath("assets/threejs/textures/space/jupiter/"),this.geometry=new x.xo$(S.y8.Jupiter,64,32),this.material=new x.xoR({wireframe:!1,shininess:0}),this.mesh=new x.Kj0(this.geometry,this.material),(0,v.h)(this.mesh,S.ZB.Jupiter)}loadTexturesByDefinition(t){this.material.map=this.loader.load((0,j.R)(t,{sd:"jupiter_map_1024x512.jpg",hd:"jupiter_map_2048x1024.jpg"}))}update(t){(0,v.r)(this.mesh,t,5)}}var D=e(8804),B=e(8904);class P{constructor(){this.ringsGeometry=new x.V4E(S.UO.innerRadius,S.UO.outerRadius,64),this.ringsMaterial=new D.v({color:16777215,side:x.ehD,transparent:!0}),this.rings=new x.Kj0(this.ringsGeometry,this.ringsMaterial),this.rings.rotateX((0,B.Id)(90)),this.loader=(new x.dpR).setPath("assets/threejs/textures/space/saturn/"),this.geometry=new x.xo$(S.y8.Saturn,64,32),this.material=new x.xoR({wireframe:!1,shininess:0}),this.mesh=new x.Kj0(this.geometry,this.material),(0,v.h)(this.mesh,S.ZB.Saturn),this.mesh.add(this.rings)}loadTexturesByDefinition(t){this.material.map=this.loader.load((0,j.R)(t,{sd:"saturn_map_1024x512.jpg",hd:"saturn_map_2048x1024.jpg"})),this.ringsMaterial.map=this.loader.load((0,j.R)(t,{sd:"saturn_rings_map_1024x1024.png",hd:"saturn_rings_map_2048x2048.png"}))}update(t){(0,v.r)(this.mesh,t,5)}}class Z{constructor(){this.loader=(new x.dpR).setPath("assets/threejs/textures/space/uranus/"),this.geometry=new x.xo$(S.y8.Uranus,64,32),this.material=new x.xoR({wireframe:!1,shininess:0}),this.mesh=new x.Kj0(this.geometry,this.material),(0,v.h)(this.mesh,S.ZB.Uranus)}loadTexturesByDefinition(t){this.material.map=this.loader.load((0,j.R)(t,{sd:"uranus_map_1024x512.jpg",hd:"uranus_map_2048x1024.jpg"}))}update(t){(0,v.r)(this.mesh,t,5)}}class z{constructor(){this.loader=(new x.dpR).setPath("assets/threejs/textures/space/neptune/"),this.geometry=new x.xo$(S.y8.Neptune,64,32),this.material=new x.xoR({wireframe:!1,shininess:0}),this.mesh=new x.Kj0(this.geometry,this.material),(0,v.h)(this.mesh,S.ZB.Neptune)}loadTexturesByDefinition(t){this.material.map=this.loader.load((0,j.R)(t,{sd:"neptune_map_1024x512.jpg",hd:"neptune_map_2048x1024.jpg"}))}update(t){(0,v.r)(this.mesh,t,5)}}var C=e(8656),k=e(8509),E=e(2628),O=e(5319);const L={fov:30,near:1,far:2e3,vrSession:{onStart:{camera:{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0}},dolly:{position:{x:0,y:1,z:5},rotation:{x:0,y:0,z:0}}},onEnd:{camera:{position:{x:0,y:3,z:20},rotation:{x:0,y:0,z:0}},dolly:{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0}}}}};var J=e(2647);const U="planets",F=(0,d.Lq)({flyMode:!1,vrSession:!1},(0,d.on)(h,t=>Object.assign(Object.assign({},t),{flyMode:!t.flyMode})),(0,d.on)(c,t=>Object.assign(Object.assign({},t),{flyMode:!1})),(0,d.on)(p,t=>Object.assign(Object.assign({},t),{vrSession:!0})),(0,d.on)(l,t=>Object.assign(Object.assign({},t),{vrSession:!1}))),T=(0,d.ZF)(U),I=(0,d.P1)(T,t=>t.flyMode),V=(0,d.P1)(T,t=>t.vrSession);let K=(()=>{class t{constructor(t){this.store=t,this.flyMode$=this.store.select(I),this.vrSession$=this.store.select(V)}dispatch(t){this.store.dispatch(t)}}return t.\u0275fac=function(s){return new(s||t)(m.LFG(d.yh))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),H=(()=>{class t{constructor(t,s){this.app=t,this.facade=s,this.subscription=new O.w,this.dollyCameraParams=L,this.controlsUpdate=()=>{},this.vrControllersUpdate=()=>{},this.animate=()=>{},this.completed=!1}buildScene(t){this.completed?this.update(t):(this.create(t),this.completed=!0)}create(t){const s=new E.$,e=new y.I,i=new g.M;i.add(t);const a=new C.d;e.add(a);const n=a.scene;this.dollyCameraParams.aspect=t.ratio();const o=new u.ak(this.dollyCameraParams);t.resizeAdd(o),n.add(o),s.add(o);const r=new f.Ck;n.add(r.light),e.add(r);const d=new _;d.mesh.position.set(1.5,-2,4),n.add(d.mesh),e.add(d),i.add(d);const h=new b;h.mesh.position.set(-1.5,-2,4),n.add(h.mesh),e.add(h),i.add(h);const p=new R.I;p.mesh.position.set(1.5,0,0),n.add(p.mesh),e.add(p),i.add(p);const l=new $.J;l.mesh.position.set(p.mesh.position.x+2,0,p.mesh.position.z),n.add(l.mesh),e.add(l),i.add(l);const m=new M;m.mesh.position.set(-1.5,0,0),n.add(m.mesh),e.add(m),i.add(m);const x=new A;x.mesh.position.set(-17,0,0),n.add(x.mesh),e.add(x),i.add(x);const S=new P;S.mesh.position.set(17,0,0),n.add(S.mesh),e.add(S),i.add(S);const v=new Z;v.mesh.position.set(-5,3,-13),n.add(v.mesh),e.add(v),i.add(v);const j=new z;j.mesh.position.set(5,5,-13),n.add(j.mesh),e.add(j),i.add(j),this.subscription.add(this.app.definition$.subscribe(t=>{e.loadTexturesByDefinition(t)}));const D=new w.JZ(o.camera,t.renderer.domElement,{autoRotateSpeed:.2,autoRotate:!0,target:p.mesh.position.clone()});i.add(D),this.controlsUpdate=t=>{D.updateDomElement(t.renderer.domElement)};const B=new u.j_(o,t);if(i.add(B),B.pointerLock.onLock(()=>{D.disable()}),B.pointerLock.onUnlock(()=>{D.enable(),this.facade.dispatch(c())}),this.subscription.add(this.facade.flyMode$.subscribe(t=>{t?B.start():B.stop()})),this.subscription.add(this.facade.vrSession$.subscribe(t=>{t?s.onSessionStart():s.onSessionEnd()})),t.vrSession){const s=new k.Q2(t,5);n.add(s.controller),n.add(s.grip);const e=new k.ah(t,5);n.add(e.controller),n.add(e.grip);const a=new u.ky(o,t);i.add(a),s.onSelectStart(()=>{a.moveSwitch()}),e.onSelectStart(()=>{a.moveSwitch()}),this.vrControllersUpdate=t=>{n.remove(s.controller,s.grip,e.controller,e.grip),s.updateContainer(t),n.add(s.controller),n.add(s.grip),e.updateContainer(t),n.add(e.controller),n.add(e.grip)}}this.animate=t=>{t.renderer.setAnimationLoop(()=>{i.update(),t.renderer.render(n,o.camera)})},this.animate(t)}update(t){this.controlsUpdate(t),this.vrControllersUpdate(t),this.animate(t)}unsubscribe(){this.completed=!1,this.subscription.unsubscribe(),this.subscription=new O.w}}return t.\u0275fac=function(s){return new(s||t)(m.LFG(J.l),m.LFG(K))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var q=e(2107),G=e(6534);const Y=[{path:"",component:(()=>{class t{constructor(t,s,e,i){this.window=t,this.service=s,this.app=e,this.facade=i,this.flyMode$=this.facade.flyMode$,this.stats$=this.app.stats$,this.isHDDefinition$=this.app.isHDDefinition$,this.antialias$=this.app.antialias$}onContainerInit(t){this.service.buildScene(t)}onSwitchFlyMode(){this.facade.dispatch(h())}onSwitchStats(){this.app.dispatch(r.q.switchStats())}onSwitchDefinition(){this.app.dispatch(r.q.switchDefinition())}onSwitchAntialias(){this.app.dispatch(r.q.switchAntialias())}onVRSessionStart(){this.facade.dispatch(p())}onVRSessionEnd(){this.facade.dispatch(l())}ngOnDestroy(){this.service.unsubscribe()}}return t.\u0275fac=function(s){return new(s||t)(m.Y36(Window),m.Y36(H),m.Y36(J.l),m.Y36(K))},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-planets-page"]],decls:6,vars:15,consts:[[3,"stats$","antialias$","vrButtonEnable","containerInit","vrSessionStart","vrSessionEnd"],[3,"flyModeActive","statsActive","hdDefinitionActive","antialiasActive","switchFlyMode","switchStats","switchDefinition","switchAntialias"]],template:function(t,s){1&t&&(m.TgZ(0,"app-container",0),m.NdJ("containerInit",function(t){return s.onContainerInit(t)})("vrSessionStart",function(){return s.onVRSessionStart()})("vrSessionEnd",function(){return s.onVRSessionEnd()}),m.qZA(),m.TgZ(1,"app-menu",1),m.NdJ("switchFlyMode",function(){return s.onSwitchFlyMode()})("switchStats",function(){return s.onSwitchStats()})("switchDefinition",function(){return s.onSwitchDefinition()})("switchAntialias",function(){return s.onSwitchAntialias()}),m.ALo(2,"async"),m.ALo(3,"async"),m.ALo(4,"async"),m.ALo(5,"async"),m.qZA()),2&t&&(m.Q6J("stats$",s.stats$)("antialias$",s.antialias$)("vrButtonEnable",!0),m.xp6(1),m.Q6J("flyModeActive",m.lcZ(2,7,s.flyMode$))("statsActive",m.lcZ(3,9,s.stats$))("hdDefinitionActive",m.lcZ(4,11,s.isHDDefinition$))("antialiasActive",m.lcZ(5,13,s.antialias$)))},directives:[q.e,G.M],pipes:[a.Ov],styles:[""]}),t})()}];let N=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[[o.Bz.forChild(Y)],o.Bz]}),t})(),Q=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[[d.Aw.forFeature(U,F)]]}),t})(),X=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[[a.ez,n.m,N,Q]]}),t})()}}]);