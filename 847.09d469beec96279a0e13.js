(self.webpackChunkapp=self.webpackChunkapp||[]).push([[847],{847:(e,s,t)=>{"use strict";t.r(s),t.d(s,{PlanetsModule:()=>te});var i={};t.r(i),t.d(i,{switchAntialias:()=>c,switchDefinition:()=>h,switchFlyMode:()=>d,vrSessionEnd:()=>m,vrSessionStart:()=>l});var n=t(8583),a=t(4304),r=t(9812),o=t(5466);const d=(0,o.PH)("[Planets] switch fly mode"),h=(0,o.PH)("[Planets] switch definition"),c=(0,o.PH)("[Planets] switch antialias"),l=(0,o.PH)("[Planets] VR session start"),m=(0,o.PH)("[Planets] VR session end");(0,o.G0)(i);var p=t(7716),u=t(457),w=t(9723),f=t(3607),y=t(4007),g=t(1115),x=t(949),j=t(270),R=t(4997),S=t(7758),v=t(6941),_=t(3115),b=t(9864);class D{constructor(){this.loader=(new S.dpR).setPath("assets/threejs/textures/space/mercury/"),this.geometry=new S.xo$(v.y8.Mercury,64,32),this.material=new S.xoR({wireframe:!1,shininess:0}),this.mesh=new S.Kj0(this.geometry,this.material),(0,_.h)(this.mesh,v.ZB.Mercury)}loadTexturesByDefinition(e){this.material.map=this.loader.load((0,b.R)(e,{sd:"mercury_map_1024x512.jpg",hd:"mercury_map_2048x1024.jpg"}))}update(e){(0,_.r)(this.mesh,e,5)}}class M{constructor(){this.loader=(new S.dpR).setPath("assets/threejs/textures/space/venus/"),this.geometry=new S.xo$(v.y8.Venus,64,32),this.material=new S.xoR({wireframe:!1,shininess:0}),this.mesh=new S.Kj0(this.geometry,this.material),(0,_.h)(this.mesh,v.ZB.Venus)}loadTexturesByDefinition(e){this.material.map=this.loader.load((0,b.R)(e,{sd:"venus_map_1024x512.jpg",hd:"venus_map_2048x1024.jpg"}))}update(e){(0,_.r)(this.mesh,e,5)}}var P=t(3841),$=t(9088);class B{constructor(){this.loader=(new S.dpR).setPath("assets/threejs/textures/space/mars/"),this.geometry=new S.xo$(v.y8.Mars,64,32),this.material=new S.xoR({wireframe:!1,shininess:0}),this.mesh=new S.Kj0(this.geometry,this.material),(0,_.h)(this.mesh,v.ZB.Mars)}loadTexturesByDefinition(e){this.material.map=this.loader.load((0,b.R)(e,{sd:"mars_map_1024x512.jpg",hd:"mars_map_2048x1024.jpg"}))}update(e){(0,_.r)(this.mesh,e,5)}}class A{constructor(){this.loader=(new S.dpR).setPath("assets/threejs/textures/space/jupiter/"),this.geometry=new S.xo$(v.y8.Jupiter,64,32),this.material=new S.xoR({wireframe:!1,shininess:0}),this.mesh=new S.Kj0(this.geometry,this.material),(0,_.h)(this.mesh,v.ZB.Jupiter)}loadTexturesByDefinition(e){this.material.map=this.loader.load((0,b.R)(e,{sd:"jupiter_map_1024x512.jpg",hd:"jupiter_map_2048x1024.jpg"}))}update(e){(0,_.r)(this.mesh,e,5)}}var Z=t(1429),O=t(8904);class E{constructor(){this.ringsGeometry=new S.V4E(v.UO.innerRadius,v.UO.outerRadius,64),this.ringsMaterial=new Z.v({color:16777215,side:S.ehD,transparent:!0}),this.rings=new S.Kj0(this.ringsGeometry,this.ringsMaterial),this.rings.rotateX((0,O.Id)(90)),this.loader=(new S.dpR).setPath("assets/threejs/textures/space/saturn/"),this.geometry=new S.xo$(v.y8.Saturn,64,32),this.material=new S.xoR({wireframe:!1,shininess:0}),this.mesh=new S.Kj0(this.geometry,this.material),(0,_.h)(this.mesh,v.ZB.Saturn),this.mesh.add(this.rings)}loadTexturesByDefinition(e){this.material.map=this.loader.load((0,b.R)(e,{sd:"saturn_map_1024x512.jpg",hd:"saturn_map_2048x1024.jpg"})),this.ringsMaterial.map=this.loader.load((0,b.R)(e,{sd:"saturn_rings_map_1024x1024.png",hd:"saturn_rings_map_2048x2048.png"}))}update(e){(0,_.r)(this.mesh,e,5)}}class H{constructor(){this.loader=(new S.dpR).setPath("assets/threejs/textures/space/uranus/"),this.geometry=new S.xo$(v.y8.Uranus,64,32),this.material=new S.xoR({wireframe:!1,shininess:0}),this.mesh=new S.Kj0(this.geometry,this.material),(0,_.h)(this.mesh,v.ZB.Uranus)}loadTexturesByDefinition(e){this.material.map=this.loader.load((0,b.R)(e,{sd:"uranus_map_1024x512.jpg",hd:"uranus_map_2048x1024.jpg"}))}update(e){(0,_.r)(this.mesh,e,5)}}class J{constructor(){this.loader=(new S.dpR).setPath("assets/threejs/textures/space/neptune/"),this.geometry=new S.xo$(v.y8.Neptune,64,32),this.material=new S.xoR({wireframe:!1,shininess:0}),this.mesh=new S.Kj0(this.geometry,this.material),(0,_.h)(this.mesh,v.ZB.Neptune)}loadTexturesByDefinition(e){this.material.map=this.loader.load((0,b.R)(e,{sd:"neptune_map_1024x512.jpg",hd:"neptune_map_2048x1024.jpg"}))}update(e){(0,_.r)(this.mesh,e,5)}}var T=t(8656),V=t(5319);const z={fov:30,near:1,far:2e3,onVRSessionStartPosition:{camera:{x:0,y:0,z:0},dolly:{x:0,y:1,z:5}},onVRSessionEndPosition:{camera:{x:0,y:3,z:20},dolly:{x:0,y:0,z:0}}};var F=t(9263);const I="planets",K=(0,o.Lq)({flyMode:!1,antialias:!1,definition:"sd",vrSession:!1},(0,o.on)(d,e=>Object.assign(Object.assign({},e),{flyMode:!e.flyMode})),(0,o.on)(h,e=>Object.assign(Object.assign({},e),{definition:"sd"===e.definition?"hd":"sd"})),(0,o.on)(c,e=>Object.assign(Object.assign({},e),{antialias:!e.antialias})),(0,o.on)(l,e=>Object.assign(Object.assign({},e),{vrSession:!0})),(0,o.on)(m,e=>Object.assign(Object.assign({},e),{vrSession:!1}))),U=(0,o.ZF)(I),k=(0,o.P1)(U,e=>e.flyMode),L=(0,o.P1)(U,e=>e.definition),C=(0,o.P1)(L,e=>"hd"===e),G=(0,o.P1)(U,e=>e.antialias),Y=(0,o.P1)(U,e=>e.vrSession);let q=(()=>{class e{constructor(e){this.store=e,this.flyMode$=this.store.select(k),this.definition$=this.store.select(L),this.isHDDefinition$=this.store.select(C),this.antialias$=this.store.select(G),this.vrSession$=this.store.select(Y)}dispatch(e){this.store.dispatch(e)}}return e.\u0275fac=function(s){return new(s||e)(p.LFG(o.yh))},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),N=(()=>{class e{constructor(e,s){this.store=e,this.facade=s,this.dollyCameraParams=z,this.subscription=new V.w}buildScene({container:e,renderer:s}){const t=new y.$,i=new g.A(e),n=new x.I,a=new j.M,r=new T.d;n.add(r);const o=r.scene,d=new u.a(e,this.dollyCameraParams);o.add(d),t.add(d),this.rendererManager=new R.T(a,s,o,d.camera),i.add(this.rendererManager);const h=new f.Ck;o.add(h.light),n.add(h);const c=new D;c.mesh.position.set(1.5,-2,4),o.add(c.mesh),n.add(c),a.add(c);const l=new M;l.mesh.position.set(-1.5,-2,4),o.add(l.mesh),n.add(l),a.add(l);const m=new P.I;m.mesh.position.set(1.5,0,0),o.add(m.mesh),n.add(m),a.add(m);const p=new $.J;p.mesh.position.set(m.mesh.position.x+2,0,m.mesh.position.z),o.add(p.mesh),n.add(p),a.add(p);const S=new B;S.mesh.position.set(-1.5,0,0),o.add(S.mesh),n.add(S),a.add(S);const v=new A;v.mesh.position.set(-17,0,0),o.add(v.mesh),n.add(v),a.add(v);const _=new E;_.mesh.position.set(17,0,0),o.add(_.mesh),n.add(_),a.add(_);const b=new H;b.mesh.position.set(-5,3,-13),o.add(b.mesh),n.add(b),a.add(b);const Z=new J;Z.mesh.position.set(5,5,-13),o.add(Z.mesh),n.add(Z),a.add(Z),this.subscription.add(this.facade.definition$.subscribe(e=>{n.loadTexturesByDefinition(e)})),this.subscription.add(this.facade.vrSession$.subscribe(e=>{e?t.onSessionStart():t.onSessionEnd()})),this.controls=new w.bq(d.camera,s.domElement,{autoRotateSpeed:.2,autoRotate:!0,target:m.mesh.position}),a.add(this.controls)}updateRenderer({renderer:e}){this.rendererManager.updateRenderer(e),this.controls.updateDomElement(e.domElement)}unsubscribe(){this.subscription.unsubscribe()}}return e.\u0275fac=function(s){return new(s||e)(p.LFG(F.d),p.LFG(q))},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Q=t(6901),X=t(6534);const W=[{path:"",component:(()=>{class e{constructor(e,s,t){this.window=e,this.service=s,this.facade=t,this.flyMode$=this.facade.flyMode$,this.isHDDefinition$=this.facade.isHDDefinition$,this.antialias$=this.facade.antialias$}onRendererInit(e){this.service.buildScene(e)}onRendererUpdate(e){this.service.updateRenderer(e)}onSwitchFlyMode(){this.facade.dispatch(d())}onSwitchDefinition(){this.facade.dispatch(h())}onSwitchAntialias(){this.facade.dispatch(c())}onVRSessionStart(){this.facade.dispatch(l())}onVRSessionEnd(){this.facade.dispatch(m())}ngOnDestroy(){this.service.unsubscribe()}}return e.\u0275fac=function(s){return new(s||e)(p.Y36(Window),p.Y36(N),p.Y36(q))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-planets-page"]],decls:5,vars:11,consts:[[3,"antialias$","vrButton","rendererInit","rendererUpdate","vrSessionStart","vrSessionEnd"],[3,"isflyMode","isHDDefinition","isAntialias","switchFlyMode","switchDefinition","switchAntialias"]],template:function(e,s){1&e&&(p.TgZ(0,"app-renderer",0),p.NdJ("rendererInit",function(e){return s.onRendererInit(e)})("rendererUpdate",function(e){return s.onRendererUpdate(e)})("vrSessionStart",function(){return s.onVRSessionStart()})("vrSessionEnd",function(){return s.onVRSessionEnd()}),p.qZA(),p.TgZ(1,"app-menu",1),p.NdJ("switchFlyMode",function(){return s.onSwitchFlyMode()})("switchDefinition",function(){return s.onSwitchDefinition()})("switchAntialias",function(){return s.onSwitchAntialias()}),p.ALo(2,"async"),p.ALo(3,"async"),p.ALo(4,"async"),p.qZA()),2&e&&(p.Q6J("antialias$",s.antialias$)("vrButton",!0),p.xp6(1),p.Q6J("isflyMode",p.lcZ(2,5,s.flyMode$))("isHDDefinition",p.lcZ(3,7,s.isHDDefinition$))("isAntialias",p.lcZ(4,9,s.antialias$)))},directives:[Q.J,X.M],pipes:[n.Ov],styles:[""]}),e})()}];let ee=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[r.Bz.forChild(W)],r.Bz]}),e})(),se=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[o.Aw.forFeature(I,K)]]}),e})(),te=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[n.ez,a.m,ee,se]]}),e})()}}]);