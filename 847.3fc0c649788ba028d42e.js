(self.webpackChunkapp=self.webpackChunkapp||[]).push([[847],{847:(e,s,t)=>{"use strict";t.r(s),t.d(s,{PlanetsModule:()=>se});var i={};t.r(i),t.d(i,{switchAntialias:()=>c,switchDefinition:()=>h,switchFlyMode:()=>d,vrSessionEnd:()=>m,vrSessionStart:()=>l});var n=t(8583),a=t(4304),r=t(9812),o=t(5466);const d=(0,o.PH)("[Planets] switch fly mode"),h=(0,o.PH)("[Planets] switch definition"),c=(0,o.PH)("[Planets] switch antialias"),l=(0,o.PH)("[Planets] VR session start"),m=(0,o.PH)("[Planets] VR session end");(0,o.G0)(i);var p=t(7716),u=t(457),w=t(9723),f=t(3607),y=t(4007),g=t(1115),x=t(949),j=t(270),S=t(7758),R=t(6941),v=t(3115),_=t(9864);class b{constructor(){this.loader=(new S.dpR).setPath("assets/threejs/textures/space/mercury/"),this.geometry=new S.xo$(R.y8.Mercury,64,32),this.material=new S.xoR({wireframe:!1,shininess:0}),this.mesh=new S.Kj0(this.geometry,this.material),(0,v.h)(this.mesh,R.ZB.Mercury)}loadTexturesByDefinition(e){this.material.map=this.loader.load((0,_.R)(e,{sd:"mercury_map_1024x512.jpg",hd:"mercury_map_2048x1024.jpg"}))}update(e){(0,v.r)(this.mesh,e,5)}}class D{constructor(){this.loader=(new S.dpR).setPath("assets/threejs/textures/space/venus/"),this.geometry=new S.xo$(R.y8.Venus,64,32),this.material=new S.xoR({wireframe:!1,shininess:0}),this.mesh=new S.Kj0(this.geometry,this.material),(0,v.h)(this.mesh,R.ZB.Venus)}loadTexturesByDefinition(e){this.material.map=this.loader.load((0,_.R)(e,{sd:"venus_map_1024x512.jpg",hd:"venus_map_2048x1024.jpg"}))}update(e){(0,v.r)(this.mesh,e,5)}}var P=t(3841),$=t(9088);class M{constructor(){this.loader=(new S.dpR).setPath("assets/threejs/textures/space/mars/"),this.geometry=new S.xo$(R.y8.Mars,64,32),this.material=new S.xoR({wireframe:!1,shininess:0}),this.mesh=new S.Kj0(this.geometry,this.material),(0,v.h)(this.mesh,R.ZB.Mars)}loadTexturesByDefinition(e){this.material.map=this.loader.load((0,_.R)(e,{sd:"mars_map_1024x512.jpg",hd:"mars_map_2048x1024.jpg"}))}update(e){(0,v.r)(this.mesh,e,5)}}class B{constructor(){this.loader=(new S.dpR).setPath("assets/threejs/textures/space/jupiter/"),this.geometry=new S.xo$(R.y8.Jupiter,64,32),this.material=new S.xoR({wireframe:!1,shininess:0}),this.mesh=new S.Kj0(this.geometry,this.material),(0,v.h)(this.mesh,R.ZB.Jupiter)}loadTexturesByDefinition(e){this.material.map=this.loader.load((0,_.R)(e,{sd:"jupiter_map_1024x512.jpg",hd:"jupiter_map_2048x1024.jpg"}))}update(e){(0,v.r)(this.mesh,e,5)}}var A=t(1429),Z=t(8904);class O{constructor(){this.ringsGeometry=new S.V4E(R.UO.innerRadius,R.UO.outerRadius,64),this.ringsMaterial=new A.v({color:16777215,side:S.ehD,transparent:!0}),this.rings=new S.Kj0(this.ringsGeometry,this.ringsMaterial),this.rings.rotateX((0,Z.Id)(90)),this.loader=(new S.dpR).setPath("assets/threejs/textures/space/saturn/"),this.geometry=new S.xo$(R.y8.Saturn,64,32),this.material=new S.xoR({wireframe:!1,shininess:0}),this.mesh=new S.Kj0(this.geometry,this.material),(0,v.h)(this.mesh,R.ZB.Saturn),this.mesh.add(this.rings)}loadTexturesByDefinition(e){this.material.map=this.loader.load((0,_.R)(e,{sd:"saturn_map_1024x512.jpg",hd:"saturn_map_2048x1024.jpg"})),this.ringsMaterial.map=this.loader.load((0,_.R)(e,{sd:"saturn_rings_map_1024x1024.png",hd:"saturn_rings_map_2048x2048.png"}))}update(e){(0,v.r)(this.mesh,e,5)}}class E{constructor(){this.loader=(new S.dpR).setPath("assets/threejs/textures/space/uranus/"),this.geometry=new S.xo$(R.y8.Uranus,64,32),this.material=new S.xoR({wireframe:!1,shininess:0}),this.mesh=new S.Kj0(this.geometry,this.material),(0,v.h)(this.mesh,R.ZB.Uranus)}loadTexturesByDefinition(e){this.material.map=this.loader.load((0,_.R)(e,{sd:"uranus_map_1024x512.jpg",hd:"uranus_map_2048x1024.jpg"}))}update(e){(0,v.r)(this.mesh,e,5)}}class H{constructor(){this.loader=(new S.dpR).setPath("assets/threejs/textures/space/neptune/"),this.geometry=new S.xo$(R.y8.Neptune,64,32),this.material=new S.xoR({wireframe:!1,shininess:0}),this.mesh=new S.Kj0(this.geometry,this.material),(0,v.h)(this.mesh,R.ZB.Neptune)}loadTexturesByDefinition(e){this.material.map=this.loader.load((0,_.R)(e,{sd:"neptune_map_1024x512.jpg",hd:"neptune_map_2048x1024.jpg"}))}update(e){(0,v.r)(this.mesh,e,5)}}var J=t(8656),V=t(5319);const z={fov:30,near:1,far:2e3,onVRSessionStartPosition:{camera:{x:0,y:0,z:0},dolly:{x:0,y:1,z:5}},onVRSessionEndPosition:{camera:{x:0,y:3,z:20},dolly:{x:0,y:0,z:0}}};var F=t(9263);const T="planets",I=(0,o.Lq)({flyMode:!1,antialias:!1,definition:"sd",vrSession:!1},(0,o.on)(d,e=>Object.assign(Object.assign({},e),{flyMode:!e.flyMode})),(0,o.on)(h,e=>Object.assign(Object.assign({},e),{definition:"sd"===e.definition?"hd":"sd"})),(0,o.on)(c,e=>Object.assign(Object.assign({},e),{antialias:!e.antialias})),(0,o.on)(l,e=>Object.assign(Object.assign({},e),{vrSession:!0})),(0,o.on)(m,e=>Object.assign(Object.assign({},e),{vrSession:!1}))),K=(0,o.ZF)(T),L=(0,o.P1)(K,e=>e.flyMode),U=(0,o.P1)(K,e=>e.definition),k=(0,o.P1)(U,e=>"hd"===e),C=(0,o.P1)(K,e=>e.antialias),G=(0,o.P1)(K,e=>e.vrSession);let Y=(()=>{class e{constructor(e){this.store=e,this.flyMode$=this.store.select(L),this.definition$=this.store.select(U),this.isHDDefinition$=this.store.select(k),this.antialias$=this.store.select(C),this.vrSession$=this.store.select(G)}dispatch(e){this.store.dispatch(e)}}return e.\u0275fac=function(s){return new(s||e)(p.LFG(o.yh))},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),q=(()=>{class e{constructor(e,s){this.store=e,this.facade=s,this.dollyCameraParams=z,this.subscription=new V.w}buildScene(e){const s=e.container;this.renderer=e.renderer;const t=new y.$,i=new g.A(s),n=new x.I,a=new j.M,r=new J.d;n.add(r);const o=r.scene,d=new u.a(s,this.dollyCameraParams);o.add(d),i.add(d),t.add(d),i.add(this.renderer),this.renderer.setAnimationLoop(()=>{a.update(),this.renderer.render(o,d.camera)});const h=new f.Ck;o.add(h.light),n.add(h);const c=new b;c.mesh.position.set(1.5,-2,4),o.add(c.mesh),n.add(c),a.add(c);const l=new D;l.mesh.position.set(-1.5,-2,4),o.add(l.mesh),n.add(l),a.add(l);const m=new P.I;m.mesh.position.set(1.5,0,0),o.add(m.mesh),n.add(m),a.add(m);const p=new $.J;p.mesh.position.set(m.mesh.position.x+2,0,m.mesh.position.z),o.add(p.mesh),n.add(p),a.add(p);const S=new M;S.mesh.position.set(-1.5,0,0),o.add(S.mesh),n.add(S),a.add(S);const R=new B;R.mesh.position.set(-17,0,0),o.add(R.mesh),n.add(R),a.add(R);const v=new O;v.mesh.position.set(17,0,0),o.add(v.mesh),n.add(v),a.add(v);const _=new E;_.mesh.position.set(-5,3,-13),o.add(_.mesh),n.add(_),a.add(_);const A=new H;A.mesh.position.set(5,5,-13),o.add(A.mesh),n.add(A),a.add(A),this.subscription.add(this.facade.definition$.subscribe(e=>{n.loadTexturesByDefinition(e)})),this.subscription.add(this.facade.vrSession$.subscribe(e=>{e?t.onSessionStart():t.onSessionEnd()})),this.controls=new w.bq(d.camera,this.renderer.domElement,{autoRotateSpeed:.2,autoRotate:!0,target:m.mesh.position}),a.add(this.controls)}updateRenderer(e){this.renderer=e.renderer,this.controls.updateDomElement(this.renderer.domElement)}unsubscribe(){this.subscription.unsubscribe()}}return e.\u0275fac=function(s){return new(s||e)(p.LFG(F.d),p.LFG(Y))},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var N=t(54),Q=t(6534);const X=[{path:"",component:(()=>{class e{constructor(e,s,t){this.window=e,this.service=s,this.facade=t,this.flyMode$=this.facade.flyMode$,this.isHDDefinition$=this.facade.isHDDefinition$,this.antialias$=this.facade.antialias$}onRendererInit(e){this.service.buildScene(e)}onRendererUpdate(e){this.service.updateRenderer(e)}onSwitchFlyMode(){this.facade.dispatch(d())}onSwitchDefinition(){this.facade.dispatch(h())}onSwitchAntialias(){this.facade.dispatch(c())}onVRSessionStart(){this.facade.dispatch(l())}onVRSessionEnd(){this.facade.dispatch(m())}ngOnDestroy(){this.service.unsubscribe()}}return e.\u0275fac=function(s){return new(s||e)(p.Y36(Window),p.Y36(q),p.Y36(Y))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-planets-page"]],decls:5,vars:11,consts:[[3,"antialias$","vrButton","rendererInit","rendererUpdate","vrSessionStart","vrSessionEnd"],[3,"isflyMode","isHDDefinition","isAntialias","switchFlyMode","switchDefinition","switchAntialias"]],template:function(e,s){1&e&&(p.TgZ(0,"app-renderer",0),p.NdJ("rendererInit",function(e){return s.onRendererInit(e)})("rendererUpdate",function(e){return s.onRendererUpdate(e)})("vrSessionStart",function(){return s.onVRSessionStart()})("vrSessionEnd",function(){return s.onVRSessionEnd()}),p.qZA(),p.TgZ(1,"app-menu",1),p.NdJ("switchFlyMode",function(){return s.onSwitchFlyMode()})("switchDefinition",function(){return s.onSwitchDefinition()})("switchAntialias",function(){return s.onSwitchAntialias()}),p.ALo(2,"async"),p.ALo(3,"async"),p.ALo(4,"async"),p.qZA()),2&e&&(p.Q6J("antialias$",s.antialias$)("vrButton",!0),p.xp6(1),p.Q6J("isflyMode",p.lcZ(2,5,s.flyMode$))("isHDDefinition",p.lcZ(3,7,s.isHDDefinition$))("isAntialias",p.lcZ(4,9,s.antialias$)))},directives:[N.J,Q.M],pipes:[n.Ov],styles:[""]}),e})()}];let W=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[r.Bz.forChild(X)],r.Bz]}),e})(),ee=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[o.Aw.forFeature(T,I)]]}),e})(),se=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[n.ez,a.m,W,ee]]}),e})()}}]);